<ion-header [translucent]="true">
  <ion-toolbar color="dark">
    <ion-grid>
      <ion-row class="ion-align-items-center ion-justify-content-between">

        <!-- Título de la empresa o sección -->
        <ion-col size="12" size-md="3">
          <ion-title style="margin-left: 10px;">Materiales Básicos</ion-title>
        </ion-col>

        <!-- Buscador -->
        <ion-col size="12" size-md="5">
          <ion-searchbar
            [(ngModel)]="busqueda"
            placeholder="Buscar materiales..."
            animated>
          </ion-searchbar>
        </ion-col>

        <!-- Botones -->
        <ion-col size="12" size-md="4" class="ion-text-end">
          <ion-buttons>
            <!-- Botón Iniciar sesión -->
            <ion-button fill="clear" [routerLink]="['/iniciar']">
              <ion-icon name="person-outline" slot="start"></ion-icon>
              Iniciar sesión
            </ion-button>

            <!-- Carrito con badge -->
            <ion-button fill="clear" style="position: relative; padding: 0; width: 40px; height: 40px;">
              <img src="assets/img/logo-carrito.png" alt="Carrito" style="width: 24px; height: 24px; display: block; margin: auto;">
              <ion-badge color="danger" style="position: absolute; top: 0; right: 0; transform: translate(25%, -25%); font-size: 0.7em;">
                {{ carritoCantidad }}
              </ion-badge>
            </ion-button>
          </ion-buttons>
        </ion-col>

      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-grid>
    <ion-row>
      <ion-col size="12" size-sm="6" size-md="4" *ngFor="let producto of productosFiltrados()">
        <ion-card>
          <img [src]="producto.imagen" alt="Imagen producto" />
          <ion-card-header>
            <ion-card-subtitle>{{ producto.categoria }}</ion-card-subtitle>
            <ion-card-title>{{ producto.nombre }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p>
              <strong style="color: blue;">-{{ producto.descuento }}%</strong>
              <span style="text-decoration: line-through;">${{ producto.precioOriginal }}</span>
            </p>
            <p style="font-size: 1.2em; font-weight: bold;">${{ producto.precioDescuento }}</p>
            <ion-button expand="block" color="dark" (click)="agregarAlCarrito(producto)">
              Agregar al carrito
            </ion-button>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
